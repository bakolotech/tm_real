<style>
    .back-ground-carnet {
        height: 134px;
        width: 263px;
        border-radius: 6px;
        background-color: #F8F8F8;
        padding-left: 3px;
        margin-right: 7px;
        margin-bottom: 10px;
        padding-right: 3px;
        padding-bottom: 3px;
        padding-top: 3px;
    }


    .back-ground-carnet1 {
        height: 134px;
        width: 263px;
        border-radius: 6px;
        background-color: #191970;
        padding-left: 3px;
        margin-right: 7px;
        margin-bottom: 10px;
        padding-right: 3px;
        padding-bottom: 3px;
        padding-top: 3px;
    }


    .carnet-adresse-profil{
        height: 134px;
        width: 263px;
        border-radius: 6px;
        margin-top: 4px;
    }

    .mask-carnet-rectangle1 {
        box-sizing: border-box;
        height: 126px;
        width: 207px;
        border: 1px solid #D8D8D8;
        border-radius: 6px 0 0 6px;
        background-color: #FFFFFF;
    }

    .mask-carnet-rectangle2 {
        box-sizing: border-box;
        height: 126px;
        width: 46px;
        border: 1px solid #D8D8D8;
        border-radius: 0 6px 6px 0;
        background-color: #F8F8F8;
        border-left: none;
    }

    .boutton-suppr-adresse {
        height: 62px;
        width: 46px;
        border-bottom: 1px solid #D8D8D8;
    }

    .boutton-modifier-adresse {
        height: 62px;
        width: 46px;
    }

    .bloc-icon-adresse{
        border: 1px solid #191970;
        border-radius: 6px;
        height: 110px;
        width: 31px;
        padding-right: 10px;
        margin-top: 8px;
        margin-left: 8px;
    }

    .icon-carnet-adresse-rectangle1{
        height: 11px;
        width: 11px;
    }

    .nom-carnet-adresse{
        height: 10px;
        width: 130px;
        color: #191970;
        font-family: Roboto;
        font-size: 12px;
        font-weight: 500;
        letter-spacing: -0.29px;
        line-height: 10px;
    }

    .localisation-carnet-adresse {
        height: 28px;
        width: 130px;
        color: #191970;
        font-family: Roboto;
        font-size: 12px;
        font-weight: 300;
        letter-spacing: -0.29px;
        line-height: 14px;
    }

    .magasin-carnet-adresse {
        height: 14px;
        width: 80px;
        color: #191970;
        font-family: Roboto;
        font-size: 12px;
        font-weight: 500;
        letter-spacing: -0.29px;
        line-height: 14px;
    }

    .ombre-carnet-back{
        height: 140px;
        width: 268px;
        border-radius: 6px;
        background-color: #F8F8F8;
        padding-top: 5px;
        padding-left: 5px;
        padding-right: 5px;
        margin-right: 4.5px;
    }

    .button-modifier-carnet{
        box-sizing: border-box;
        height: 29px;
        width: 34px;
        border: 1px solid #007AFF;
        background-color: #FFFFFF;
        border-radius: 14px;
    }

    .button-supprimer-carnet{
        box-sizing: border-box;
        height: 29px;
        width: 34px;
        border: 1px solid #007AFF;
        background-color: #FFFFFF;
        border-radius: 14px;
        color: #FFFF;
    }

    .hover-button-supprimer-carnet{
        background-color: #007AFF !important;
        color: #FFFF;
    }

    .text-supprimer-carnet {
        height: 9px;
        width: 35px;
        color: #1A7EF5;
        font-family: Roboto;
        font-size: 9px;
        font-weight: 300;
        letter-spacing: -0.19px;
        line-height: 9px;
        text-align: center;
        margin-left: 3.5px;
        margin-top: 5px;
        text-decoration: underline;

    }

    .text-modifier-carnet {
        height: 9px;
        width: 35px;
        color: #1A7EF5;
        font-family: Roboto;
        font-size: 9px;
        font-weight: 300;
        letter-spacing: -0.19px;
        line-height: 9px;
        text-align: left;
        margin-left: -1px;
        margin-top: 5px;
        text-decoration: underline;
    }

    .icon-supprim-carnet{
        height: 14px;
        width: 14px ;
        margin-bottom: 5px;
        margin-left: -1px;
        color: #fff !important;
    }

.hide {
    display: none !important;
}

.btn-active{
    border: 1px solid #1A7EF5;
    background-color: #1A7EF5 !important;
    color:
}
 /* ----------------------------------------------------------- */

 .carnet-1 {
            height: 134px;
             width: 263px;
             background-color: #1A7EF5;
        }


        .btn-1 button {
            border-top: 1px solid #000;
            border-radius: 0px !important;
            width: 31px;
        }

        .btn-2 button {
            border-top: 1px solid #000;
            border-radius: 6px 6px 0px 0px !important;
            width: 31px;
        }

        .btn-3 button {
            border-top: 1px solid #000;
            border-radius: 0px 0px 6px 6px !important;
            width: 31px;
        }

        .btn-outline-secondary {
            border-radius: 6px;
            background-color: red;
        }

        .btn-1 button, .btn-2 button, .btn-3 button{
            /* box-sizing: border-box; */
            height: 27.25px;
            width: 31px;
            background-color: #FFFFFF;
        }

        .btn-1 button i, .btn-2 button i, .btn-3 button i{
            font-size: 10px;
            display: flex;
            justify-content: center;
            align-items: center;
        }


        .autre-button {
            height: inherit;
            width: 31px;

        }


        .col-card {
            box-sizing: border-box;
            height: 127px;
            width: 255px;
            border: 1px solid #191970;
            border-radius: 6px;
            background-image: url('/assets/images/19007.webp') !important;
            background-size: 256px;
        }

        .col-card1 {
            box-sizing: border-box;
            height: 127px;
            width: 269px;
            border: 2px solid #191970 !important;
            border-radius: 6px;
            background-color: #fdfcfc;


        }

        .btn-pending {
            height: 30px !important;
            width: 36px !important;
            border-radius: 6px 0 0 6px;
            background-color: #191970 !important;
        }

        .btn-1 svg {
            color: rgb(252, 106, 106);
            position: relative;
            left: -5px;
            top: -1px !important;;
        }

        .user-nom {
            height: 10px;
            width: 130px;
            color: #191970;
            font-family: Roboto;
            font-size: 12px;
            font-weight: 500;
            letter-spacing: -0.29px;
            line-height: 10px;
        }

        .user-tel {
            height: 10px;
            width: 79px;
            color: #191970;
            font-family: Roboto;
            font-size: 12px;
            font-weight: 500;
            letter-spacing: -0.29px;
            line-height: 10px;
        }

        .col button {

            border: 0.75px solid #191970 !important;

        }

        .user-location {
            height: 24px;
            width: 118px;
            color: #191970;
            font-family: Roboto;
            font-size: 12px;
            font-weight: 300;
            letter-spacing: -0.29px;
            line-height: 12px;
        }

        .user-entreprise {
            height: 14px;
            width: 64px;
            color: #191970;
            font-family: Roboto;
            font-size: 12px;
            font-weight: 500;
            letter-spacing: -0.29px;
            line-height: 14px;
        }

    /*#addressContaineur {
        display: flex;
        flex-wrap: wrap;
    }

    .back-ground-carnet button {
        color: #4A4A4A;
        font-family: Roboto;
        font-size: 8px;
        letter-spacing: 0;
        line-height: 9px;
        text-align: center;
        box-sizing: border-box;
        height: 19px;
        width: 42px;
        border: 0.75px solid #1A7EF5;
        border-radius: 4px;
        background-color: #FFFFFF;
        } */


</style>
<!--  -->

<div id="liste-carnet-adresse"  style="margin-left: 30.5px; margin-top: 20px;" class="ls hide ">
    <button style="position: absolute; margin-top: -20px; display: none">Delete</button>
    <div  class="row" style="margin-left:-17px; " id="addressContaineur" >
        
    @if(isset($carnets))
        @foreach($carnets as $carnet)
        <div class="back-ground-carnet"  id="carnet_{{$carnet->id}}">
        <div class="col col-card" style="text-align: right; margin-bottom: 20px; padding-left:0px; display: flex;">
            <div class="btn-group-vertical" role="group" aria-label="Basic example" style="margin-left: 11px">
            <div class="btn-2">
                <button
                    type="button" disabled class="btn-outline-secondary"  style="background-color: #fff; border-bottom: none; border-radius: 6px;"><img class="icon-carnet-adresse-rectangle1" style="width :10.96px; height:10.96px; margin-left: -4px" src="{{  asset('assets/images/icon-user-carnet.svg') }}" alt="">  </button>
                <span class="user-nom"><b> {{$carnet->prenom_nom}}</b></span>
            </div>
            <div class="btn-1">
                <button type="button" disabled class="btn btn-outline-secondary"  style="background-color: #fff;"><img style="margin-top: 2.5px; width :11.95px; height:11.96px; margin-left: -4px" class="icon-carnet-adresse-rectangle1" src="{{  asset('assets/images/icon-telephone-carnet.svg') }}" alt=""></button>
                <span class="user-tel"><b> {{$carnet->portable}}</b></span>
            </div>
            <div class="btn-1">
                <button type="button" disabled class="btn btn-outline-secondary"  style="background-color: #fff; border-top: none;">  <img style="margin-top: 2.5px; width:8.96px; height:12.95px ; margin-left: -4px" class="icon-carnet-adresse-rectangle1" src="{{  asset('assets/images/icon-localisation-carnet.svg') }}" alt=""> </button>
                <span class="user-location">{{$carnet->adresse.','.' '.$carnet->code_postale }} </span>
            </div>
            <div class="btn-3">
                <button type="button" disabled class="btn btn-outline-secondary"  style="background-color: #fff; border-top: none;"><img style="margin-top: 2.5px;width:11.95px; height:11.96px; margin-left: -4px" class="icon-carnet-adresse-rectangle1" src="{{  asset('assets/images/icon-batiment-carnet.svg') }}" alt=""></button>
                <span class="user-entreprise"><b>{{$carnet->nom_entreprise}}</b></span>
            </div>
        </div>
        <div class="autre-button" style="position: absolute; float: right; right: 2px; display: flex; flex-direction: column; justify-content: center; align-items: center;">
            <div class="pended-button1" style="margin-bottom: 6px">
                <button  value="{{$carnet->id}}" data-toggle="modal" class="btn-pending " data-target="#deleteCarnetAdresse" id="delete"  ><img style="width:20px; height:20px" src="{{ asset('assets/images/fermepannier.svg') }}" alt="" /></button>
            </div>
            <div class="pended-button2">
                <button value="{{$carnet->id}}" id="modif_addresse" class="btn-pending "><img style="width:20px; height:20px" src="{{ asset('assets/images/edit-off.svg') }}" alt="" /></button>
            </div>
        </div>
        </div>
        </div>
        @endforeach
        @endif
    </div>



</div>
@include('front.app-module.user-profil.modals.components.generale.modal-suppression-carnet-adresse')

<script>

        jQuery(document).ready(function () {

            $(document).on('click', '#delete', function () {
                console.log('list-carnet-adress.blade.php');
                    var address_id = $(this).val(); // get the current address to delete
                    $('#deleteing_id').val(address_id); // place the address_id in the modal deleting id
                    $('#deleteCarnetAdresse').css("padding-left", "250px"); //corrected
            });


            $(document).on('click', '#modif_addresse', function (e) {
                    e.preventDefault();
                    var modif_id = $(this).val(); // get the current id to modify
                    $('.as').removeClass('hide');
                    $('.ls').addClass('hide');
                    $('#add-carnet-adresse').css("display", "block"); //corrected
                    $('#formCarnetAdresseUser_adresse_defaut').prop('checked', false);

                     console.log('liste-carnet-adresse.blade.php');

                    var Lurla = '/carnet-getaddress';

                   $.ajax({
                        type: "GET",
                        url: Lurla,
                        success: function (response) {
                            var carnets = response.carnet[0];
                            var data={};
                            const result = carnets.filter(model => model.id == modif_id);
                            console.log(result);

                            _.each(result, function(model){

                                if(model.type_adresse === "1"){
                                    $('#type_professionnelle').prop('checked', true)
                                }else{
                                    $('#type_residentielle').prop('checked', true)
                                }


                                if(model.adresse_defaut === 1){
                                    $('#formCarnetAdresseUser_adresse_defaut').prop('checked', true)
                                }

                                data = {
                                    'id':model.id,
                                    'prenom_nom':$('#formAddCarnetAdresseUser_prenom_nom').val(model.prenom_nom),
                                    'protable':$('#formAddCarnetAdresseUser_portable').val(model.portable),
                                    'adresse':$('#formAddCarnetAdresseUser_adresse').val(model.adresse),
                                    'complement':$('#formAddCarnetAdresseUser_complement').val(model.complement),
                                    'ville':$('#formEditUser_city_id').val(model.ville),
                                    'code_postale':$('#formAddCarnetAdresseUser_code_postale ').val(model.code_postale),
                                    'nom_entreprise':$('#company').val(model.nom_entreprise),
                                }
                            });

                            $("#addCarnet").addClass('hide');
                            $('#modifCarnet').removeClass('hide');
                            $('#modifCarnet').addClass('btn-active');
                            $('#modifCarnet').val(data.id);
                        }

                    });
            });

  });


</script>
